# MINIMAL WORKING WORKFLOW
# Use these queries to make your workflow work

# ============================================
# 1. GET BRAND ID NODE
# ============================================
SELECT id, name FROM brands WHERE name = 'Chiltepik' LIMIT 1;

# ============================================
# 2. SAVE CAMPAIGN NODE  
# ============================================
INSERT INTO campaigns (
  brand_id, name, objective, daily_budget, locations, 
  languages, age_range, gender, optimization, bidding, status
)
SELECT 
  1::integer,
  'Test Campaign'::text,
  'TRAFFIC'::text,
  250::numeric,
  'Piedras Negras, MX'::text,
  'es,*'::text,
  '18-44'::text,
  'ALL'::text,
  'CPC'::text,
  'AUTO'::text,
  'DRAFT'::text
RETURNING id;

# ============================================
# 3. LOG GENERATION NODE
# ============================================
INSERT INTO generations (brand_id, input_payload, output_payload)
SELECT 
  1::integer,
  '{"test": "data"}'::jsonb,
  '{"result": "ok"}'::jsonb
RETURNING id;

# ============================================
# NOTES:
# - These queries use SELECT instead of VALUES
# - They use type casting (::integer, ::text, ::jsonb)
# - No parameters ($1, $2, etc.) - this avoids the error
# - All values are hardcoded for now
# - Later you can make them dynamic

